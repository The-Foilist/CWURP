[gd_scene load_steps=9 format=3 uid="uid://d4agehp3labnq"]

[sub_resource type="LabelSettings" id="LabelSettings_xb563"]

[sub_resource type="GDScript" id="GDScript_7dm0k"]
script/source = "extends Label


func _process(delta) -> void:
	if Global.local_controller.hovered_object:
		text = Global.local_controller.hovered_object.name
	else:
		text = '(%+d,%+d)' % [Global.local_controller.mouse_coords.x, Global.local_controller.mouse_coords.y]
"

[sub_resource type="GDScript" id="GDScript_xb563"]
script/source = "extends Label


func _process(delta) -> void:
	text = Global.world.current_time
"

[sub_resource type="GDScript" id="GDScript_fyqef"]
script/source = "extends Label


func _process(delta) -> void:
	text = \"Ã—\" + str(Global.world.time_scale)
"

[sub_resource type="GDScript" id="GDScript_m6e0p"]
script/source = "extends Label


func _process(delta) -> void:
	visible = Global.world.pause
"

[sub_resource type="GDScript" id="GDScript_1bvp3"]
script/source = "extends HBoxContainer


var zoom_factor: float = 1000


func _process(delta) -> void:
	if LocalPlayer.cam.zoom.x > 10:
		$Level.text = \"10 m \"
		zoom_factor = 10
	elif LocalPlayer.cam.zoom.x > 1:
		$Level.text = \"100 m \"
		zoom_factor = 100
	elif LocalPlayer.cam.zoom.x > 0.1:
		$Level.text = \"1 km \"
		zoom_factor = 1000
	elif LocalPlayer.cam.zoom.x > 0.01:
		$Level.text = \"10 km \"
		zoom_factor = 10000
	elif LocalPlayer.cam.zoom.x > 0.001:
		$Level.text = \"100 km \"
		zoom_factor = 100000
	else:
		$Level.text = \"1000 km \"
		zoom_factor = 1000000
	$ColorRect.custom_minimum_size.x = zoom_factor * LocalPlayer.cam.zoom.x
"

[sub_resource type="GDScript" id="GDScript_h2yge"]
script/source = "extends CenterContainer


func _input(event) -> void:
	if event.is_action_pressed(\"toggle_menu\"):
		visible = !visible
"

[sub_resource type="GDScript" id="GDScript_0xm2m"]
script/source = "extends Button


func _pressed() -> void:
	get_tree().quit()
"

[node name="UI" type="CanvasLayer"]

[node name="VBoxContainer" type="VBoxContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_constants/separation = 0

[node name="Overlay" type="Control" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
mouse_filter = 2

[node name="CursorTarget" type="Label" parent="VBoxContainer/Overlay"]
layout_mode = 2
offset_right = 40.0
offset_bottom = 23.0
label_settings = SubResource("LabelSettings_xb563")
script = SubResource("GDScript_7dm0k")

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/Overlay"]
visible = false
layout_mode = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -50.0
offset_right = 1042.0
alignment = 2

[node name="Time" type="HBoxContainer" parent="VBoxContainer/Overlay/VBoxContainer"]
layout_mode = 2

[node name="WorldTime" type="Label" parent="VBoxContainer/Overlay/VBoxContainer/Time"]
layout_mode = 2
script = SubResource("GDScript_xb563")

[node name="TimeScale" type="Label" parent="VBoxContainer/Overlay/VBoxContainer/Time"]
layout_mode = 2
script = SubResource("GDScript_fyqef")

[node name="Pause" type="Label" parent="VBoxContainer/Overlay/VBoxContainer/Time"]
visible = false
layout_mode = 2
text = "PAUSED"
script = SubResource("GDScript_m6e0p")

[node name="Scale" type="HBoxContainer" parent="VBoxContainer/Overlay/VBoxContainer"]
layout_mode = 2
mouse_filter = 2
script = SubResource("GDScript_1bvp3")

[node name="Level" type="Label" parent="VBoxContainer/Overlay/VBoxContainer/Scale"]
visible = false
layout_mode = 2
text = "1 km"

[node name="ColorRect" type="ColorRect" parent="VBoxContainer/Overlay/VBoxContainer/Scale"]
custom_minimum_size = Vector2(1000, 4)
layout_mode = 2
size_flags_vertical = 4
mouse_filter = 2

[node name="CommandBar" type="PanelContainer" parent="VBoxContainer"]
custom_minimum_size = Vector2(0, 240)
layout_mode = 2
mouse_force_pass_scroll_events = false

[node name="Menu" type="CenterContainer" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_h2yge")

[node name="VBoxContainer" type="VBoxContainer" parent="Menu"]
custom_minimum_size = Vector2(200, 100)
layout_mode = 2

[node name="ResumeButton" type="Button" parent="Menu/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
text = "Resume"

[node name="QuitButton" type="Button" parent="Menu/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
text = "Quit"
script = SubResource("GDScript_0xm2m")

[connection signal="pressed" from="Menu/VBoxContainer/ResumeButton" to="Menu" method="set_visible" binds= [false]]
