[gd_scene load_steps=2 format=3 uid="uid://55ya7xsbjcjp"]

[sub_resource type="GDScript" id="GDScript_3oe82"]
script/source = "class_name Ruler
extends Line2D


func _process(delta) -> void:
	if points.size() < 2:
		return
	var cam = Global.session.local_controller.cam
	width = 2 / cam.zoom.x
	var len = get_point_position(0).distance_to(get_point_position(1))
	var ang = Global.bearing_to(get_point_position(0), get_point_position(1))
	$Label.position = get_point_position(1)
	$Label.scale = Vector2(PlayerSettings.text_scale/cam.zoom.x, PlayerSettings.text_scale/cam.zoom.y)
	$Label.rotation = cam.global_rotation
	$Label.text = '%f %s\\n%.1f Â°' % [len / Global.DISTANCE_CONVERSION[PlayerSettings.distance_units], PlayerSettings.distance_units, ang]
"

[node name="Ruler" type="Line2D"]
visible = false
width = 2.0
begin_cap_mode = 2
end_cap_mode = 2
script = SubResource("GDScript_3oe82")

[node name="Label" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0
text = "asdf
asdf"
